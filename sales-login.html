<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sales Team Login | KJR Interior Designs Inc.</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <!-- Top Utility Bar -->
  <div class="top-bar">
    <div class="top-bar-left">
      <span class="utility-info">üìû <strong>888-944-6313</strong> ‚Ä¢ Call 24/7 ‚Ä¢ Live Operator</span>
    </div>
    <div class="top-bar-right">
      <a href="contact-us.html">Contact</a>
      <a href="suggest-feature.html">Suggest Feature</a>
      <a href="sales-login.html" class="sales-login-btn">SALES LOGIN</a>
    </div>
  </div>

  <!-- Main Navigation Header -->
  <header class="main-header">
    <div class="header-container">
      <div class="logo">
        <a href="index.html">
          <img src="logo-new.jpeg" alt="KJR Interior Designs Inc.">
        </a>
      </div>
      <nav class="secondary-nav">
        <div class="secondary-nav-container">
          <ul class="nav-links">
            <li><a href="index.html">HOME</a></li>
            <li><a href="about-us.html">ABOUT</a></li>
            <li class="has-dropdown">
              <a href="#">WORK FORCE <span class="dropdown-arrow">‚ñæ</span></a>
              <ul class="dropdown-menu">
                <li><a href="career-move.html">Career Move</a></li>
                <li><a href="property-mgmt.html">Property Mgmt Crew</a></li>
                <li><a href="bid-projects.html">Bid Projects</a></li>
                <li><a href="bid-projects.html">Work Completed by KJRID</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>
      <div class="header-actions">
        <a href="index.html#parts" class="parts-highlight">10M+ PARTS</a>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero" style="height: 40vh; min-height: 250px;">
    <video autoplay muted loop playsinline class="hero-bg">
      <source
        src="https://res.cloudinary.com/dc8xxhoaf/video/upload/v1767988938/3773486-hd-1920-1080-30fps-tyea3fib-1_3P5aPwyY_online-video-cutter.com_tzwfze.mp4"
        type="video/mp4">
    </video>
    <div class="hero-content">
      <h1>üîê SALES TEAM LOGIN</h1>
      <p>Secure access for authorized sales personnel</p>
    </div>
  </section>

  <!-- Login Form Section -->
  <section class="content-section" style="background: #f5f5f5; padding: 4rem 2rem; min-height: 60vh;">
    <div class="feature-card" style="max-width: 500px;">

      <!-- Step 1: Username & Password -->
      <div id="step1Container">
        <h2 class="feature-title" style="text-align: center; margin-bottom: 2rem; color: var(--primary);">Step 1: Login
          Credentials</h2>

        <form id="loginStep1Form"
          style="background: white; padding: 3rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
          <div style="margin-bottom: 1.5rem;">
            <label for="username"
              style="display: block; margin-bottom: 0.5rem; font-weight: 700; color: var(--text-main);">
              Username <span style="color: var(--primary);">*</span>
            </label>
            <input type="text" id="username" name="username" required autocomplete="username"
              style="width: 100%; padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 4px; font-family: var(--font-body); font-size: 1rem;">
          </div>

          <div style="margin-bottom: 1.5rem;">
            <label for="password"
              style="display: block; margin-bottom: 0.5rem; font-weight: 700; color: var(--text-main);">
              Password <span style="color: var(--primary);">*</span>
            </label>
            <input type="password" id="password" name="password" required autocomplete="current-password"
              style="width: 100%; padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 4px; font-family: var(--font-body); font-size: 1rem;">
          </div>

          <div style="margin-bottom: 1.5rem;">
            <label style="display: flex; align-items: center; cursor: pointer;">
              <input type="checkbox" id="rememberMe" name="rememberMe" style="margin-right: 0.5rem;">
              <span style="font-size: 0.9rem; color: var(--text-body);">Remember me</span>
            </label>
          </div>

          <div id="step1Error"
            style="display: none; padding: 0.75rem; margin-bottom: 1rem; background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; border-radius: 4px;">
          </div>

          <div style="text-align: center;">
            <button type="submit" class="btn"
              style="width: 100%; background: var(--primary); color: white; border: none; padding: 1rem; font-size: 1rem; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 15px rgba(204,0,0,0.3); transition: all 0.3s ease;">
              Continue to Verification
            </button>
          </div>

          <div style="text-align: center; margin-top: 1.5rem;">
            <a href="#" style="color: var(--primary); font-size: 0.9rem; text-decoration: none;">Forgot password?</a>
            <span style="margin: 0 0.5rem; color: #ddd;">|</span>
            <a href="registration.html" style="color: var(--primary); font-size: 0.9rem; text-decoration: none;">Create
              Account</a>
          </div>
        </form>
      </div>

      <!-- Step 2: Two-Factor Authentication -->
      <div id="step2Container" style="display: none;">
        <h2 class="feature-title" style="text-align: center; margin-bottom: 2rem; color: var(--primary);">Step 2:
          Verification Code</h2>

        <form id="loginStep2Form"
          style="background: white; padding: 3rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 2rem;">
            <p style="color: var(--text-body); line-height: 1.6;">
              A 6-digit verification code has been sent to your registered email/phone.
            </p>
            <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: 0.5rem;">
              Code sent to: <span id="maskedContact" style="font-weight: 700;"></span>
            </p>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <label for="verificationCode"
              style="display: block; margin-bottom: 0.5rem; font-weight: 700; color: var(--text-main); text-align: center;">
              Enter Verification Code <span style="color: var(--primary);">*</span>
            </label>
            <input type="text" id="verificationCode" name="verificationCode" required maxlength="6" pattern="[0-9]{6}"
              placeholder="000000"
              style="width: 100%; padding: 1rem; border: 2px solid #e0e0e0; border-radius: 4px; font-family: var(--font-mono, monospace); font-size: 1.5rem; text-align: center; letter-spacing: 0.5rem;">
          </div>

          <div id="step2Error"
            style="display: none; padding: 0.75rem; margin-bottom: 1rem; background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; border-radius: 4px;">
          </div>

          <div style="text-align: center;">
            <button type="submit" class="btn"
              style="width: 100%; background: var(--primary); color: white; border: none; padding: 1rem; font-size: 1rem; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 15px rgba(204,0,0,0.3); transition: all 0.3s ease;">
              Verify & Login
            </button>
          </div>

          <div style="text-align: center; margin-top: 1.5rem;">
            <button id="resendCodeBtn" type="button"
              style="background: none; border: none; color: var(--primary); font-size: 0.9rem; cursor: pointer; text-decoration: underline;">
              Resend code
            </button>
            <span style="color: var(--text-muted); font-size: 0.9rem; margin: 0 0.5rem;">|</span>
            <button id="backToStep1Btn" type="button"
              style="background: none; border: none; color: var(--text-muted); font-size: 0.9rem; cursor: pointer;">
              Back to login
            </button>
          </div>
        </form>
      </div>

    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-brand">
        <img src="logo-new.jpeg" alt="KJR Interior Designs Inc." style="height: 70px; margin-bottom: 1.5rem;">
        <p>A massive supplier for home appliances, electronics, HVAC, and more. BBB Accredited since 2014.</p>
      </div>

      <div class="footer-col">
        <h4>INSURANCE REQUIREMENTS</h4>
        <ul class="footer-links">
          <li><a href="#">Workers Comp</a></li>
          <li><a href="#">General Liability</a></li>
          <li><a href="#">Auto Insurance</a></li>
          <li><a href="#">Vendor Profile</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>QUICK LINKS</h4>
        <ul class="footer-links">
          <li><a href="#">Upload Invoice</a></li>
          <li><a href="sales-login.html">Sign In</a></li>
          <li><a href="#">Create Profile</a></li>
          <li><a href="contact-us.html">Contact Support</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>CONTACT</h4>
        <p>888-944-6313<br>Open 24/7</p>
        <p style="margin-top: 1rem;">1420 Industrial Park Road<br>Paris, TN 38242</p>
      </div>
    </div>

    <div class="footer-bottom">
      <div>&copy; 2024 KJR Interior Designs Inc. All rights reserved.</div>
      <div><a href="#">Privacy Policy</a> &nbsp;|&nbsp; <a href="#">Terms of Service</a></div>
    </div>
  </footer>

  <script>
    // Two-step authentication logic
    let currentUser = null;

    // Step 1: Username & Password
    document.getElementById('loginStep1Form').addEventListener('submit', function (e) {
      e.preventDefault();

      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const rememberMe = document.getElementById('rememberMe').checked;

      // TODO: Send credentials to backend API for verification
      // For now, simulate authentication
      console.log('Step 1 - Login attempt:', { username, rememberMe, timestamp: new Date().toISOString() });

      // Simulate API call delay
      const submitBtn = this.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Verifying...';

      setTimeout(() => {
        // Simulate successful step 1
        // In production, this would be based on actual API response
        const mockSuccess = true; // Change to false to test error

        if (mockSuccess) {
          currentUser = {
            username: username,
            maskedContact: maskContact(username)
          };

          // Log successful step 1
          logTransaction('LOGIN_STEP1_SUCCESS', username);

          // Move to step 2
          document.getElementById('step1Container').style.display = 'none';
          document.getElementById('step2Container').style.display = 'block';
          document.getElementById('maskedContact').textContent = currentUser.maskedContact;

          // Generate and send verification code (server-side in production)
          const verificationCode = generateVerificationCode();
          console.log('Verification code sent:', verificationCode); // In production, this would be sent via SMS/Email
        } else {
          // Show error
          const errorDiv = document.getElementById('step1Error');
          errorDiv.textContent = '‚ùå Invalid username or password. Please try again.';
          errorDiv.style.display = 'block';
          logTransaction('LOGIN_STEP1_FAILED', username);
        }

        submitBtn.disabled = false;
        submitBtn.textContent = 'Continue to Verification';
      }, 1000);
    });

    // Step 2: Verification Code
    document.getElementById('loginStep2Form').addEventListener('submit', function (e) {
      e.preventDefault();

      const verificationCode = document.getElementById('verificationCode').value;

      // TODO: Verify code with backend API
      console.log('Step 2 - Verification attempt:', { username: currentUser.username, code: verificationCode, timestamp: new Date().toISOString() });

      const submitBtn = this.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Verifying...';

      setTimeout(() => {
        // Simulate verification (in production, verify against server-sent code)
        const mockSuccess = true; // Change to false to test error

        if (mockSuccess) {
          // Log successful login
          logTransaction('LOGIN_SUCCESS', currentUser.username);

          // Success - redirect to dashboard
          alert('‚úì Login successful! Redirecting to dashboard...');
          // window.location.href = 'sales-dashboard.html';
        } else {
          // Show error
          const errorDiv = document.getElementById('step2Error');
          errorDiv.textContent = '‚ùå Invalid verification code. Please try again.';
          errorDiv.style.display = 'block';
          logTransaction('LOGIN_STEP2_FAILED', currentUser.username);

          submitBtn.disabled = false;
          submitBtn.textContent = 'Verify & Login';
        }
      }, 1000);
    });

    // Resend code button
    document.getElementById('resendCodeBtn').addEventListener('click', function () {
      const newCode = generateVerificationCode();
      console.log('New verification code sent:', newCode);
      logTransaction('VERIFICATION_CODE_RESENT', currentUser.username);

      alert('A new verification code has been sent to ' + currentUser.maskedContact);
    });

    // Back to step 1 button
    document.getElementById('backToStep1Btn').addEventListener('click', function () {
      document.getElementById('step2Container').style.display = 'none';
      document.getElementById('step1Container').style.display = 'block';
      document.getElementById('loginStep1Form').reset();
      document.getElementById('loginStep2Form').reset();
      document.getElementById('step1Error').style.display = 'none';
      document.getElementById('step2Error').style.display = 'none';
      currentUser = null;
    });

    // Helper functions
    function maskContact(username) {
      // Simulate masking email/phone
      if (username.includes('@')) {
        const parts = username.split('@');
        return parts[0].substring(0, 2) + '***@' + parts[1];
      } else {
        return '***-***-' + username.substring(username.length - 4);
      }
    }

    function generateVerificationCode() {
      // Generate random 6-digit code
      return Math.floor(100000 + Math.random() * 900000).toString();
    }

    function logTransaction(action, username) {
      // TODO: Send to backend API for storage
      const logEntry = {
        action: action,
        username: username,
        timestamp: new Date().toISOString(),
        ipAddress: 'CLIENT_IP', // Would be captured server-side
        userAgent: navigator.userAgent
      };
      console.log('Transaction Log:', logEntry);

      // In production, send to backend:
      // fetch('/api/logs/transactions', { method: 'POST', body: JSON.stringify(logEntry) });
    }

    // Log logout (for when user logs out)
    function logLogout(username) {
      logTransaction('LOGOUT', username);
    }
  </script>
</body>

</html>